### docker run --rm 옵션 없이 기동 후 수동 삭제 시
- docker stop [volume_name]; docker rm [volume_name] 시 생성된 볼륨 삭제되지 않음

    - 컨테이너 삭제 전

        ![image](https://user-images.githubusercontent.com/59682268/214531144-db71c3f5-088b-4f59-b411-ed4656e01562.png)

    - 컨테이너 삭제 후

        ![image](https://user-images.githubusercontent.com/59682268/214531273-3238cbfb-7953-45e9-a060-712c3fc05705.png)

### docker run --rm 옵션으로 기동 시
- docker stop [volume_name] 시(컨테이너가 종료됨과 동시에 삭제됨) 볼륨 삭제 됨

    - 컨테이너 종료 전

    ![image](https://user-images.githubusercontent.com/59682268/214530302-313b63bf-bdd2-4584-b89b-c95662af06b1.png)

    - 컨테이너 종료 후

    ![image](https://user-images.githubusercontent.com/59682268/214530524-0a378f61-d31a-494d-aeff-15cc9398ab4b.png)

## 도커 볼륨 여러 가지 실험

- Dockerfile 내부에서 VOLUME 작성 생략 시

    ```Dockerfile
    FROM node:14

    WORKDIR /app

    COPY ./package.json /app

    RUN npm install

    COPY . .

    EXPOSE 80

    # VOLUME ["/app/feedback"]

    CMD [ "node", "server.js" ]
    ```

    => 컨테이너 생성 시 볼륨 마운트 위치를 -v [volume_name]:[container_directory_path]와 같이 잘 작성하면 named 볼륨 정상 생성됨.

    - 단, 경로 지정하지 않고 -v [volume_name] 까지만 작성하게 되면 익명 볼륨으로 생성됨.
    
- Dockerfile 내부에서 VOLUME 작성 시

    ```Dockerfile
    FROM node:14

    WORKDIR /app

    COPY ./package.json /app

    RUN npm install

    COPY . .

    EXPOSE 80

    VOLUME ["/app/feedback"]

    CMD [ "node", "server.js" ]
    ```

    => 이 경우 Dockerfile 내부에 작성된 VOLUME path와 -v옵션의 named 볼륨 path를 일치시켜주지 않으면 
    ex) docker run --name feedback-app --rm -d -p 3000:80 **-v feedback-volume:/app** feedback-image
    (-v 옵션과 VOLUME의 path가 한 경로(?) 차이)

    일치하지 않는 path depth(또는 level) 만큼의 익명볼륨이 추가로 생성된다.

### bind mount 시 현재 경로(컨테이너 기동 시 호스트 폴더경로를 컨테이너에 마운트)

```bash
# linux/mac
-v $(pwd):/app
```

```powershell
# window
-v "%cd%":/app
    ```